<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nacy - SMC Trading Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="lw.js"></script>
    <script src="smc.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Redesigned Navbar -->
        <div class="navbar">
            <div class="nav-left">
                <div class="nav-brand">
                    <h1>Nacy</h1>
                </div>
                <div class="nav-menu">
                    <!-- Symbols Dropdown -->
                    <div class="nav-item nav-dropdown-container">
                        <span class="nav-label">Symbols</span>
                        <div class="nav-dropdown-content" id="symbol-dropdown">
                            <div class="symbol-search-container">
                                <input type="text" id="symbol-search" placeholder="Search symbol..." class="symbol-search">
                            </div>
                            <div class="symbol-list-header">
                                <div class="header-item">Symbol</div>
                                <div class="header-item" style="text-align: right;">Price</div>
                            </div>
                            <div id="symbol-list" class="symbol-list">
                                <!-- Symbols populated by JS -->
                            </div>
                        </div>
                    </div>
                    <!-- Configuration Dropdown -->
                    <div class="nav-item nav-dropdown-container">
                        <span class="nav-label">Configuration</span>
                        <div class="nav-dropdown-content" id="config-dropdown">
                            <div class="smc-config-wrapper">
                                <div class="smc-config">
                                    <h3>Chart 1 Config</h3>
                                    <div class="config-item"><label for="left-bars">Left Bars</label><input type="number" id="left-bars" value="12" ></div>
                                    <div class="config-item"><label for="right-bars">Right Bars</label><input type="number" id="right-bars" value="12"></div>
                                    <div class="config-item"><label for="use-bos"><input type="checkbox" id="use-bos" checked> Use BoS</label></div>
                                    <div class="config-item"><label for="sweep-x"><input type="checkbox" id="sweep-x" checked> Detect Sweeps</label></div>
                                    <button id="apply-config" class="apply-config-btn">Apply to Chart 1</button>
                                </div>
                                <div class="smc-config">
                                    <h3>Chart 2 Config</h3>
                                    <div class="config-item"><label for="left-bars-2">Left Bars</label><input type="number" id="left-bars-2" value="100" ></div>
                                    <div class="config-item"><label for="right-bars-2">Right Bars</label><input type="number" id="right-bars-2" value="100"></div>
                                    <div class="config-item"><label for="use-bos-2"><input type="checkbox" id="use-bos-2" checked> Use BoS</label></div>
                                    <div class="config-item"><label for="sweep-x-2"><input type="checkbox" id="sweep-x-2" checked> Detect Sweeps</label></div>
                                    <button id="apply-config-2" class="apply-config-btn">Apply to Chart 2</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="nav-right">
                <div class="symbol-info">
                    <h2 id="current-symbol">BTCUSDT</h2>
                    <div class="price-container">
                        <span id="current-price" class="current-price">--,---.-</span>
                        <span id="price-change" class="price-change">--%</span>
                    </div>
                </div>
                 <!-- Sync Button -->
                <button id="sync-charts-btn" class="nav-sync-btn active">Sync Charts</button>
            </div>
        </div>

        <!-- Main Content Area (Unchanged) -->
        <div class="main-content">
            <div class="main-chart-area">
                <div class="chart-block">
                    <div class="chart-top-bar">
                        <select id="timeframe-select-1" class="timeframe-select">
                            <option value="1m">1m</option><option value="3m">3m</option><option value="5m">5m</option>
                            <option value="15m" selected>15m</option><option value="1h">1h</option><option value="4h">4h</option><option value="1d">1d</option>
                        </select>
                        <div class="chart-tools">
                             <button id="toggle-bos-1" class="tool-btn active">BoS</button><button id="toggle-choch-1" class="tool-btn active">CHoCH</button>
                             <button id="toggle-ls-1" class="tool-btn">LS</button><button id="toggle-trend-1" class="tool-btn active">Trend</button><button id="toggle-hl-1" class="tool-btn active">S/W HL</button>
                        </div>
                    </div>
                    <div id="chart-container-1" class="chart-container"></div>
                </div>
                <div class="chart-block">
                    <div class="chart-top-bar">
                        <select id="timeframe-select-2" class="timeframe-select">
                            <option value="1m">1m</option><option value="3m">3m</option><option value="5m">5m</option>
                            <option value="15m" selected>15m</option><option value="1h">1h</option><option value="4h">4h</option><option value="1d">1d</option>
                        </select>
                         <div class="chart-tools">
                             <button id="toggle-bos-2" class="tool-btn active">BoS</button><button id="toggle-choch-2" class="tool-btn active">CHoCH</button>
                             <button id="toggle-ls-2" class="tool-btn">LS</button><button id="toggle-trend-2" class="tool-btn active">Trend</button><button id="toggle-hl-2" class="tool-btn active">S/W HL</button>
                        </div>
                    </div>
                    <div id="chart-container-2" class="chart-container"></div>
                </div>
            </div>
            <div class="analysis-panel">
                <div class="panel-tabs">
                    <button class="panel-tab active" data-tab="market-structure">Market Structure (Chart 1)</button>
                    <button class="panel-tab" data-tab="liquidity">Liquidity Analysis (Chart 1)</button>
                    <button class="panel-tab" data-tab="statistics">Statistics</button>
                </div>
                <div class="panel-content">
                    <div id="market-structure" class="tab-content active">
                        <div class="structure-info">
                            <div class="info-card"><h4>Current Trend</h4><span id="current-trend" class="trend-value">--</span></div>
                            <div class="info-card"><h4>Last BoS</h4><span id="last-bos" class="structure-value">--</span></div>
                            <div class="info-card"><h4>Last CHoCH</h4><span id="last-choch" class="structure-value">--</span></div>
                            <div class="info-card"><h4>Structure Count</h4><span id="structure-count" class="count-value">--</span></div>
                            <div class="info-card"><h4>Strong H/L</h4><span id="strong-hl-count" class="count-value">--</span></div>
                            <div class="info-card"><h4>Weak H/L</h4><span id="weak-hl-count" class="count-value">--</span></div>
                        </div>
                    </div>
                    <div id="liquidity" class="tab-content">
                        <div class="liquidity-info">
                            <div class="info-card"><h4>Liquidity Sweeps</h4><span id="sweep-count" class="count-value">--</span></div>
                            <div class="info-card"><h4>Last Sweep</h4><span id="last-sweep" class="sweep-value">--</span></div>
                        </div>
                    </div>
                    <div id="statistics" class="tab-content">
                        <div class="stats-grid"><div class="stat-item"><span class="stat-label">Win Rate</span><span class="stat-value">--</span></div>
                        <div class="stat-item"><span class="stat-label">Total Signals</span><span class="stat-value">--</span></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>