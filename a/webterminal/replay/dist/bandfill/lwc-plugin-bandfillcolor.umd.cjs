(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("lightweight-charts")):typeof define=="function"&&define.amd?define(["exports","lightweight-charts"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.Bandfillcolor={},n.LightweightCharts))})(this,function(n,r){"use strict";var x=Object.defineProperty;var p=(n,r,u)=>r in n?x(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u;var f=(n,r,u)=>(p(n,typeof r!="symbol"?r+"":r,u),u);const u={...r.customSeriesDefaultOptions,highLineColor:"#049981",lowLineColor:"#F23645",areaColor:"rgba(41, 98, 255, 0.2)",highLineWidth:2,lowLineWidth:2};class _{constructor(){f(this,"_data",null);f(this,"_options",null)}draw(i,t){i.useBitmapCoordinateSpace(o=>this._drawImpl(o,t))}update(i,t){this._data=i,this._options=t}_drawColoredAreas(i,t,o,l,h,s){if(o>=l)return;let c=o,d=t[o].color||s.areaColor;for(let e=o+1;e<=l;e++){const a=e<l?t[e].color||s.areaColor:d;(e===l||a!==d)&&(this._drawSegment(i,t,c,e,d),e<l&&(c=e,d=a))}}_drawSegment(i,t,o,l,h){if(o>=l)return;const s=new Path2D,c=t[o];s.moveTo(c.x,c.low);for(let e=o+1;e<l;e++)s.lineTo(t[e].x,t[e].low);const d=t[l-1];s.lineTo(d.x,d.high);for(let e=l-2;e>=o;e--)s.lineTo(t[e].x,t[e].high);s.closePath(),i.fillStyle=h,i.fill(s)}_drawImpl(i,t){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const o=this._options,l=this._data.bars.map(a=>{const g=a;return{x:a.x*i.horizontalPixelRatio,high:t(a.originalData.high)*i.verticalPixelRatio,low:t(a.originalData.low)*i.verticalPixelRatio,color:g.barColor}}),h=i.context;h.lineJoin="round",this._drawColoredAreas(h,l,this._data.visibleRange.from,this._data.visibleRange.to,i,o);const s=new Path2D,c=new Path2D,d=l[this._data.visibleRange.from];s.moveTo(d.x,d.low);for(let a=this._data.visibleRange.from+1;a<this._data.visibleRange.to;a++){const g=l[a];s.lineTo(g.x,g.low)}const e=l[this._data.visibleRange.to-1];c.moveTo(e.x,e.high);for(let a=this._data.visibleRange.to-2;a>=this._data.visibleRange.from;a--){const g=l[a];c.lineTo(g.x,g.high)}h.strokeStyle=o.lowLineColor,h.lineWidth=o.lowLineWidth*i.verticalPixelRatio,h.stroke(s),h.strokeStyle=o.highLineColor,h.lineWidth=o.highLineWidth*i.verticalPixelRatio,h.stroke(c)}}class w{constructor(){f(this,"_renderer");this._renderer=new _}priceValueBuilder(i){const t=(i.low+i.high)/2;return[i.low,i.high,t]}isWhitespace(i){return i.low===void 0||i.high===void 0}renderer(){return this._renderer}update(i,t){this._renderer.update(i,t)}defaultOptions(){return u}}n.Bandfillcolor=w,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
