<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PineScript to Pinets Converter (Offline)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>ğŸŒ² PineScript â†’ Pinets Converter</h1>
      <p>Chuyá»ƒn Ä‘á»•i code PineScript sang Ä‘á»‹nh dáº¡ng Pinets</p>
      <p class="subtitle">PhiÃªn báº£n Offline - KhÃ´ng cáº§n PEG.js parser</p>
    </header>

    <!-- Status Bar -->
    <div id="status" class="status"></div>

    <!-- Market Data Settings -->
    <div class="market-settings">
      <div class="settings-group">
        <label for="symbolInput">Symbol:</label>
        <input type="text" id="symbolInput" value="BTCUSDT" placeholder="BTCUSDT">
        
        <label for="intervalSelect">Interval:</label>
        <select id="intervalSelect">
          <option value="1m">1 Minute</option>
          <option value="5m">5 Minutes</option>
          <option value="15m">15 Minutes</option>
          <option value="30m">30 Minutes</option>
          <option value="1h" selected>1 Hour</option>
          <option value="4h">4 Hours</option>
          <option value="1d">1 Day</option>
        </select>
        
        <button id="loadDataBtn" class="btn-secondary">
          ğŸ”„ Load Data
        </button>
        
        <span id="dataInfo" class="data-info"></span>
      </div>
    </div>

    <!-- Main Content -->
    <div class="content">
      <!-- Input Panel -->
      <div class="panel">
        <div class="panel-header">
          <span>ğŸ“ PineScript Input</span>
          <span style="font-size: 0.75rem; font-weight: normal; opacity: 0.9;">Ctrl+Enter Ä‘á»ƒ convert</span>
        </div>
        <div class="panel-body">
          <textarea 
            id="pineInput" 
            placeholder="Paste your PineScript code here...

Example:
indicator(&quot;My Indicator&quot;, overlay=true)
length = input.int(9, &quot;Length&quot;)
ema = ta.ema(close, length)
plot(ema, &quot;EMA&quot;, color=color.blue)"
          ></textarea>
          <div class="button-group">
            <button id="convertBtn" class="btn-primary">
              ğŸ”„ Convert to Pinets
            </button>
            <button id="exampleBtn" class="btn-secondary">
              ğŸ“‹ Load Example
            </button>
            <button id="clearBtn" class="btn-outline">
              ğŸ—‘ï¸ Clear
            </button>
          </div>
        </div>
      </div>

      <!-- Output Panel -->
      <div class="panel">
        <div class="panel-header">
          <span>âœ¨ Pinets Output</span>
        </div>
        <div class="panel-body">
          <pre id="output">// Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y...</pre>
          <div class="button-group">
            <button id="copyBtn" class="btn-success">
              ğŸ“‹ Copy to Clipboard
            </button>
            <button id="runBtn" class="btn-primary">
              â–¶ï¸ Run & Calculate
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Calculation Results Panel -->
    <div id="resultsPanel" class="results-panel" style="display: none;">
      <div class="panel">
        <div class="panel-header">
          <span>ğŸ“Š Calculation Results</span>
          <button id="closeResultsBtn" class="btn-close">âœ•</button>
        </div>
        <div class="panel-body">
          <div id="resultsContainer"></div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <section class="features">
      <h2>ğŸ¯ CÃ¡c tÃ­nh nÄƒng há»— trá»£</h2>
      <div class="features-grid">
        <div class="feature-item">
          <h3>ğŸ“Š Indicator Declaration</h3>
          <p>Chuyá»ƒn Ä‘á»•i <code>indicator(...)</code> thÃ nh <code>context.indicator(...)</code></p>
        </div>
        <div class="feature-item">
          <h3>ğŸ›ï¸ Input Functions</h3>
          <p>Há»— trá»£ <code>input.int</code>, <code>input.float</code>, <code>input.bool</code> â†’ <code>Input.*</code></p>
        </div>
        <div class="feature-item">
          <h3>ğŸ“ˆ Technical Analysis</h3>
          <p>Giá»¯ nguyÃªn cÃ¡c hÃ m <code>ta.ema</code>, <code>ta.sma</code>, <code>ta.rsi</code>, etc.</p>
        </div>
        <div class="feature-item">
          <h3>ğŸ¨ Plot Functions</h3>
          <p>Chuyá»ƒn Ä‘á»•i <code>plot(...)</code> thÃ nh <code>context.plot(...)</code></p>
        </div>
        <div class="feature-item">
          <h3>ğŸ”¢ Variables & Series</h3>
          <p>Tá»± Ä‘á»™ng thÃªm <code>const</code> cho cÃ¡c biáº¿n assignment</p>
        </div>
        <div class="feature-item">
          <h3>âš¡ Logic Operators</h3>
          <p>Chuyá»ƒn Ä‘á»•i <code>and/or/not</code> thÃ nh <code>&&/||/!</code></p>
        </div>
        <div class="feature-item">
          <h3>ğŸ¨ Color Literals</h3>
          <p>Chuyá»ƒn <code>color.red</code> thÃ nh <code>"red"</code></p>
        </div>
        <div class="feature-item">
          <h3>ğŸ“ Math & Comparison</h3>
          <p>Há»— trá»£ Ä‘áº§y Ä‘á»§ toÃ¡n tá»­: <code>+, -, *, /, >, <, ==, !=</code></p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>Built with Regex Parser â€¢ Pure JavaScript â€¢ No Backend Required</p>
      <p style="margin-top: 0.5rem; font-size: 0.75rem;">
        Â© 2025 PineScript to Pinets Converter (Offline Version)
      </p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="generator.js"></script>
  <script src="pinets-engine.js"></script>
  <script src="app-offline.js"></script>
</body>
</html>
