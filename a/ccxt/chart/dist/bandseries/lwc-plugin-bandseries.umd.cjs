(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.Bandseries={}))})(this,function(i){"use strict";var _=Object.defineProperty;var m=(i,t,s)=>t in i?_(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var d=(i,t,s)=>(m(i,typeof t!="symbol"?t+"":t,s),s);class t{constructor(){d(this,"_data",null);d(this,"_options",null)}draw(e,o){e.useBitmapCoordinateSpace(n=>this._drawImpl(n,o))}update(e,o){this._data=e,this._options=o}_drawImpl(e,o){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const n=this._data.bars.map(r=>({x:r.x*e.horizontalPixelRatio,upper:o(r.originalData.upper)*e.verticalPixelRatio,lower:o(r.originalData.lower)*e.verticalPixelRatio})),a=e.context,b=this._options.topColor??"rgba(0,150,255,0.3)",f=this._options.bottomColor??"rgba(0,150,255,0.0)";a.beginPath();const c=n[this._data.visibleRange.from];a.moveTo(c.x,c.upper);for(let r=this._data.visibleRange.from+1;r<this._data.visibleRange.to;r++){const l=n[r];a.lineTo(l.x,l.upper)}for(let r=this._data.visibleRange.to-1;r>=this._data.visibleRange.from;r--){const l=n[r];a.lineTo(l.x,l.lower)}a.closePath();const p=a.createLinearGradient(0,0,0,e.bitmapSize.height);p.addColorStop(0,b),p.addColorStop(1,f),a.fillStyle=p,a.fill()}}class s{constructor(){d(this,"_renderer");this._renderer=new t}update(e,o){this._renderer.update(e,o)}renderer(){return this._renderer}priceValueBuilder(e){return[e.upper,e.lower]}isWhitespace(e){return e.upper===void 0}defaultOptions(){return{topColor:"rgba(0,150,255,0.3)",bottomColor:"rgba(0,150,255,0.0)",lastValueVisible:!1,title:"",visible:!0,priceScaleId:"right",priceLineVisible:!1,priceLineSource:0,priceLineWidth:1,priceLineStyle:2,priceFormat:{type:"price",precision:2,minMove:.01},baseLineVisible:!1,baseLineColor:"#B2B5BE",baseLineWidth:1,baseLineStyle:0}}}class h extends s{constructor(){super()}}i.BandSeries=h,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
